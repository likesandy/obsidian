Docker 是支持自动重启的，可以在 docker run 的时候通过 --restart 指定重启策略，或者 Docker Compose 配置文件里配置 restart。

有 4 种重启策略：
- no: 容器退出不自动重启（默认值）
- always：容器总是会重新启动，无论退出代码是什么。无论是容器自行退出，还是Docker守护进程启动时没有在线，或者Docker系统自身重启，都会自动重启容器
- on-failure：容器非正常退出才自动重启，还可以指定重启次数，如 on-failure:5
- unless-stopped：除非用户手动停止该容器，否则总是会尝试重新启动容器。和`always`策略不同，如果Docker系统自身重启，而在重启前，该容器已经被手动停止，那么Docker不会自动重启这个容器

其实我们用 PM2 也是主要用它进程崩溃的时候重启的功能，而在有了 Docker 之后，用它的必要性就不大了。
当然，进程重启的速度肯定是比容器重启的速度快一些的，如果只是 Docker 部署，可以结合 pm2-runtime 来做进程的重启。
> 绝大多数情况下，直接用 Docker 跑 node 脚本就行，不需要 PM2。